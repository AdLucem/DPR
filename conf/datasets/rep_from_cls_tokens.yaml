datasets:
  nq_train:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/vladk/dpr_open_source/biencoder-nq-train.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  nq_train_kilt:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/fabiopetroni/KILT/multitask_dpr_datasets/v0.20200817/nq-train-multikilt.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  nq_dev:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/vladk/dpr_open_source/biencoder-nq-dev.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  nq_dev_kilt:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/fabiopetroni/KILT/multitask_dpr_datasets/v0.20200817/nq-dev-multikilt.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  trec2020_passages_train:
    class: dpr.data.biencoder_data.TRECDataset
    params:
      data_dir: /checkpoint/vladk/datasets/TREC/
      passages_filename: collection.tsv
      queries_filename: queries.train.tsv
      qrels_filename: qidpidtriples.train.full.2.tsv
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  aidayago2_train:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/fabiopetroni/KILT/multitask_dpr_datasets/v0.20200817/aidayago2-train-multikilt.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  fever_train:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/fabiopetroni/KILT/multitask_dpr_datasets/v0.20200817/fever-train-multikilt.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0

  trivia_train_kilt:
    class: dpr.data.biencoder_data.JsonQADataset
    params:
      data_file_pattern: /checkpoint/fabiopetroni/KILT/multitask_dpr_datasets/v0.20200817/triviaqa-train-multikilt.json
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0


  # NQ Tables
  nq_train_tables_short_answers:
    class: dpr.data.biencoder_data.JsonLTablesQADataset
    params:
      data_file_pattern: /checkpoint/vladk/datasets/tables/dpr.nq_train.tables.whole.bm25.jsonl
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0
      is_train_set: True
      shuffle_positives: True
      max_len: 100

  nq_test_tables_short_answers:
    class: dpr.data.biencoder_data.JsonLTablesQADataset
    params:
      data_file_pattern: /checkpoint/vladk/datasets/tables/dpr.nq_test.tables.whole.bm25.jsonl
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0
      is_train_set: False
      shuffle_positives: False
      max_len: 100

  nq_train_tables_long_answers:
    class: dpr.data.biencoder_data.JsonLTablesQADataset
    params:
      data_file_pattern: /checkpoint/vladk/datasets/tables/dpr.nq_train.long_ans.tables.whole.jsonl
      selector:
        class: dpr.data.biencoder_data.RepStaticPosTokenSelector
        params:
          static_position: 0
      is_train_set: True
      shuffle_positives: True
      max_len: 100


#class: dpr.data.biencoder_data.RepSpecificTokenSelector
#params:
#  token: '[START_ENT]'